{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newPerson","post","id","delete","person","put","Headline","headline","Error","style","error","type","backgroundColor","message","Filter","filter","setFilter","value","onChange","event","target","AddPerson","persons","setPersons","setError","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","map","name","indexOf","personsService","number","then","response","concat","data","setTimeout","catch","window","confirm","find","DisplayNumbers","toUpperCase","includes","index","key","onClick","App","useState","useEffect","newPersons","contact","push","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.72b4613b.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    return axios.post(baseUrl, newPerson)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (person) => {\r\n    return axios.put(`${baseUrl}/${person.id}`, person)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    remove: remove,\r\n    update: update\r\n}","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport personsService from './services/persons'\r\n\r\nconst Headline = ({ headline }) => {\r\n\treturn <h2>{headline}</h2>\r\n}\r\n\r\nconst Error = ({ error = null }) => {\r\n\tif (error === null) {\r\n\t\treturn null\r\n\t} else {\r\n\t\tlet style\r\n\t\tif (error.type === 'fail') style = {backgroundColor: 'red'}\r\n\t\telse style = {backgroundColor: 'green'}\r\n\t\treturn <div style={style}>{error.message}</div>\r\n\t}\r\n}\r\n\r\nconst Filter = ({ filter, setFilter }) => {\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<div>\r\n\t\t\t\tfilter: <input value={filter} onChange={(event) => { setFilter(event.target.value) }} />\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst AddPerson = ({ persons, setPersons, setError, newName, setNewName, newNumber, setNewNumber }) => {\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (persons.map(person => person.name).indexOf(newName) === -1) {\r\n\t\t\tpersonsService.create({ name: newName, number: newNumber })\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tsetPersons(persons.concat(response.data))\r\n\t\t\t\t\tsetError({message: `${newName} added to phonebook.`, type: 'success'})\r\n\t\t\t\t\tsetTimeout(() => setError(null), 2000)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tsetError({message: `Unable to add ${newName} to phonebook: ${error.response.data.error}`, type: 'fail'})\r\n\t\t\t\t\tsetTimeout(() => setError(null), 2000)\r\n\t\t\t\t})\r\n\t\t} else {\r\n\t\t\tif (window.confirm(`${newName} is already added to phonebook. Update their number?`)) {\r\n\t\t\t\tpersonsService\r\n\t\t\t\t\t.update({ ...persons.find(person => person.name === newName), number: newNumber })\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tsetPersons(persons.map(person => person.name !== newName ? person : response.data))\r\n\t\t\t\t\t\tsetError({message: `${newName}'s number updated.`, type: 'success'})\r\n\t\t\t\t\t\tsetTimeout(() => setError(null), 2000)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tsetPersons(persons.filter(person => person.name !== newName))\r\n\t\t\t\t\t\tsetError({message: `Unable to update ${newName}'s number.`, type: 'fail'})\r\n\t\t\t\t\t\tsetTimeout(() => setError(null), 2000)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetNewName('')\r\n\t\tsetNewNumber('')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={(event) => { setNewName(event.target.value) }} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input value={newNumber} onChange={(event) => { setNewNumber(event.target.value) }} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst DisplayNumbers = ({ persons, setPersons, setError, filter }) => {\r\n\r\n\tconst removeNumber = (id, name) => {\r\n\t\tif (window.confirm(`Remove ${name}?`)) {\r\n\t\t\tpersonsService\r\n\t\t\t\t.remove(id)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetPersons(persons.filter(person => person.id !== id))\r\n\t\t\t\t\tsetError({message: `${name} removed from phonebook.`, type: 'success'})\r\n\t\t\t\t\tsetTimeout(() => setError(null), 2000)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tsetPersons(persons.filter(person => person.id !== id))\r\n\t\t\t\t\tsetError({message: `Unable to remove ${name} from phonebook.`, type: 'fail'})\r\n\t\t\t\t\tsetTimeout(() => setError(null), 2000)\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\tpersons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase())).map((person, index) =>\r\n\t\t\t<div key={index}>\r\n\t\t\t\t{person.name} {person.number}\r\n\t\t\t\t<button onClick={() => removeNumber(person.id, person.name)}>Remove</button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t)\r\n}\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([])\r\n\tconst [newName, setNewName] = useState('')\r\n\tconst [newNumber, setNewNumber] = useState('')\r\n\tconst [filter, setFilter] = useState('')\r\n\tconst [error, setError] = useState(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonsService.getAll()\r\n\t\t\t.then(response => {\r\n\t\t\t\tlet newPersons = []\r\n\t\t\t\tresponse.data.map(person => {\r\n\t\t\t\t\tif (persons.map(contact => contact.name).indexOf(person.name) === -1) {\r\n\t\t\t\t\t\tnewPersons.push({ id: person.id, name: person.name, number: person.number })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(`${person.name} is already added to phonebook`)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null\r\n\t\t\t\t})\r\n\t\t\t\tsetPersons(persons.concat(newPersons))\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Headline headline=\"Phonebook\" />\r\n\t\t\t<Error error={error} />\r\n\t\t\t<Filter filter={filter} setFilter={setFilter} />\r\n\t\t\t<Headline headline=\"Add new\" />\r\n\t\t\t<AddPerson persons={persons} setPersons={setPersons} setError={setError} newNumber={newNumber} setNewNumber={setNewNumber} newName={newName} setNewName={setNewName} />\r\n\t\t\t<Headline headline=\"Numbers\" />\r\n\t\t\t<DisplayNumbers persons={persons} setPersons={setPersons} setError={setError} filter={filter} />\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}